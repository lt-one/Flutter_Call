# é€šè¯è¯¦å•æŸ¥çœ‹å™¨ (Flutterç‰ˆæœ¬)

ä¸€æ¯”ä¸€å¤åˆ»ä¸­å›½è”é€šé€šè¯è®°å½•ç•Œé¢çš„Flutteråº”ç”¨ã€‚

## âœ¨ ç‰¹æ€§

- âœ… **å®Œç¾çš„æ²‰æµ¸å¼çŠ¶æ€æ ** - çŠ¶æ€æ ä¸APPé¡¶éƒ¨å®Œç¾èåˆï¼Œæ— é®ç½©å±‚
- âœ… **ç²¾ç¾çš„UIè¿˜åŸ** - ä¸€æ¯”ä¸€å¤åˆ»ä¸­å›½è”é€šç•Œé¢è®¾è®¡
- âœ… **æœ¬åœ°æ•°æ®åº“** - SQLiteå­˜å‚¨é€šè¯è®°å½•
- âœ… **å®Œæ•´åŠŸèƒ½** - æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤é€šè¯è®°å½•
- âœ… **å¯åŠ¨å±** - è‡ªå®šä¹‰å¯åŠ¨ç”»é¢
- âœ… **æ‰‹åŠ¿æ“ä½œ** - é•¿æŒ‰ç¼–è¾‘ï¼Œä¸‰è¿å‡»æ·»åŠ 

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### æ²‰æµ¸å¼çŠ¶æ€æ 
é€šè¿‡ä»¥ä¸‹æŠ€æœ¯å®ç°å®Œç¾çš„æ²‰æµ¸å¼æ•ˆæœï¼š
- MainActivityä¸­è®¾ç½®`setDecorFitsSystemWindows(false)`
- styles.xmlä¸­é…ç½®`enforceStatusBarContrast=false`æ¶ˆé™¤Android 12+çš„scrimé®ç½©
- SystemUiVisibilityæ ‡å¿—è®©å†…å®¹å»¶ä¼¸åˆ°çŠ¶æ€æ åŒºåŸŸ
- WindowInsetsControlleræ§åˆ¶çŠ¶æ€æ å›¾æ ‡é¢œè‰²

### ç•Œé¢è¿˜åŸ
- é¡¶éƒ¨çº¢è‰²æ¸å˜å¯¼èˆªæ 
- è´¹ç”¨ç»Ÿè®¡å±•ç¤º
- æœˆä»½é€‰æ‹©å™¨
- é€šè¯è®°å½•åˆ—è¡¨ï¼ˆå¸¦æ—¥å†å¾½ç« ï¼‰
- åº•éƒ¨åŠŸèƒ½æ 

### æ•°æ®ç®¡ç†
- æœ¬åœ°SQLiteæ•°æ®åº“
- æ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤è®°å½•
- è´¹ç”¨è‡ªåŠ¨ç»Ÿè®¡
- ç¤ºä¾‹æ•°æ®åˆå§‹åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Flutter SDK >= 3.0.0
- Dart >= 3.0.0
- Android Studio / VS Code

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <your-repo-url>
cd flutter_call_app
```

2. **å®‰è£…ä¾èµ–**
```bash
flutter pub get
```

3. **è¿è¡Œåº”ç”¨**
```bash
# è¿è¡Œåœ¨è¿æ¥çš„è®¾å¤‡ä¸Š
flutter run

# æˆ–æ„å»ºAPK
flutter build apk --release
```

## ğŸ“± ä½¿ç”¨è¯´æ˜

### æ·»åŠ é€šè¯è®°å½•
- æ–¹æ³•1ï¼šä¸‰è¿å‡»é¡¶éƒ¨ç”µè¯å·ç 
- æ–¹æ³•2ï¼šé•¿æŒ‰æŸæ¡è®°å½•ï¼Œé€‰æ‹©"ç¼–è¾‘"

### ç¼–è¾‘è®°å½•
- é•¿æŒ‰ä»»æ„é€šè¯è®°å½•
- é€‰æ‹©"ç¼–è¾‘"æˆ–"åˆ é™¤"

### ä¿®æ”¹é¡¶éƒ¨å·ç 
- é•¿æŒ‰é¡¶éƒ¨æ˜¾ç¤ºçš„ç”µè¯å·ç 
- è¾“å…¥æ–°å·ç å¹¶ä¿å­˜

### æ¸…ç©ºæ‰€æœ‰è®°å½•
- ç‚¹å‡»å³ä¸Šè§’"ä¸‰ä¸ªç‚¹"å›¾æ ‡
- é€‰æ‹©"æ¸…ç©ºæ‰€æœ‰è®°å½•"
- ç¡®è®¤æ“ä½œ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Flutter** - UIæ¡†æ¶
- **Dart** - ç¼–ç¨‹è¯­è¨€
- **sqflite** - SQLiteæ•°æ®åº“
- **path_provider** - æ–‡ä»¶è·¯å¾„ç®¡ç†

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ main.dart                 # åº”ç”¨å…¥å£
â”œâ”€â”€ models/
â”‚   â””â”€â”€ call_log.dart        # é€šè¯è®°å½•æ¨¡å‹
â”œâ”€â”€ services/
â”‚   â””â”€â”€ database_service.dart # æ•°æ®åº“æœåŠ¡
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ splash_screen.dart   # å¯åŠ¨å±
â”‚   â””â”€â”€ home_screen.dart     # ä¸»ç•Œé¢
â””â”€â”€ widgets/
    â””â”€â”€ call_log_item.dart   # é€šè¯è®°å½•åˆ—è¡¨é¡¹

android/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”œâ”€â”€ kotlin/...       # Kotlinä»£ç ï¼ˆMainActivityï¼‰
â”‚   â”‚   â”œâ”€â”€ res/
â”‚   â”‚   â”‚   â”œâ”€â”€ values/      # æ ·å¼é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ values-v31/  # Android 12+æ ·å¼
â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â””â”€â”€ build.gradle
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### ä¸»ç•Œé¢ç‰¹ç‚¹
- âœ… æ²‰æµ¸å¼çŠ¶æ€æ ï¼ˆæ— é®ç½©ï¼‰
- âœ… çº¢è‰²æ¸å˜é¡¶éƒ¨åŒºåŸŸ
- âœ… è´¹ç”¨ç»Ÿè®¡æ˜¾ç¤º
- âœ… æœˆä»½é€‰æ‹©å™¨
- âœ… é€šè¯è®°å½•åˆ—è¡¨
- âœ… æ—¥å†æ ·å¼æ—¥æœŸå¾½ç« 

### å…³é”®å®ç°
```dart
// è®¾ç½®æ²‰æµ¸å¼çŠ¶æ€æ 
SystemChrome.setSystemUIOverlayStyle(
  const SystemUiOverlayStyle(
    statusBarColor: Colors.transparent,
    statusBarIconBrightness: Brightness.light,
  ),
);

SystemChrome.setEnabledSystemUIMode(
  SystemUiMode.edgeToEdge,
);
```

## ğŸ”§ å…³é”®é…ç½®æ–‡ä»¶

### MainActivity.kt
å®Œç¾çš„æ²‰æµ¸å¼çŠ¶æ€æ é…ç½®ï¼š
- `setDecorFitsSystemWindows(false)` - å†…å®¹å»¶ä¼¸åˆ°ç³»ç»Ÿæ 
- `SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN` - å…¨å±å¸ƒå±€
- `WindowInsetsController` - æ§åˆ¶å›¾æ ‡é¢œè‰²

### styles.xml
æ¶ˆé™¤scrimé®ç½©çš„å…³é”®é…ç½®ï¼š
```xml
<item name="android:enforceStatusBarContrast">false</item>
<item name="android:enforceNavigationBarContrast">false</item>
```

## ğŸ“ å¼€å‘ç¬”è®°

### çŠ¶æ€æ é—®é¢˜è§£å†³
åŸFleté¡¹ç›®æ— æ³•å®ç°çœŸæ­£çš„æ²‰æµ¸å¼æ•ˆæœï¼Œå› ä¸ºï¼š
1. Fletä¼šåœ¨æ„å»ºæ—¶è¦†ç›–MainActivity
2. æ— æ³•æŒä¹…åŒ–AndroidåŸç”Ÿé…ç½®

è½¬æ¢ä¸ºFlutteråçš„ä¼˜åŠ¿ï¼š
1. å®Œå…¨æ§åˆ¶AndroidåŸç”Ÿä»£ç 
2. å¯ä»¥ç²¾ç¡®é…ç½®çŠ¶æ€æ æ ·å¼
3. ä¸ä¼šè¢«æ¡†æ¶è¦†ç›–

### å…³é”®æŠ€æœ¯ç‚¹
1. **Android 12+ç‰¹æ®Šå¤„ç†**ï¼šå¿…é¡»è®¾ç½®`enforceStatusBarContrast=false`
2. **SystemUIæ ‡å¿—**ï¼š`SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN`è®©å†…å®¹å»¶ä¼¸
3. **å›¾æ ‡é¢œè‰²æ§åˆ¶**ï¼šä½¿ç”¨`WindowInsetsController`åŠ¨æ€è°ƒæ•´

## ğŸ› å¸¸è§é—®é¢˜

### Q: çŠ¶æ€æ è¿˜æ˜¯æœ‰é®ç½©ï¼Ÿ
A: ç¡®ä¿ï¼š
- MainActivityä¸­æ­£ç¡®è®¾ç½®äº†æ‰€æœ‰æ ‡å¿—
- styles.xmlåŒ…å«`enforceStatusBarContrast=false`
- è¿è¡Œåœ¨Android 5.0+è®¾å¤‡ä¸Š

### Q: æ•°æ®åº“æŠ¥é”™ï¼Ÿ
A: é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ï¼Œå¦‚æœæŠ¥é”™ï¼š
```bash
flutter clean
flutter pub get
flutter run
```

### Q: ç¼–è¯‘å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ï¼š
- Flutter SDKç‰ˆæœ¬ >= 3.0.0
- Android compileSdk >= 34
- ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚

## ğŸ™ è‡´è°¢

- UIè®¾è®¡å‚è€ƒï¼šä¸­å›½è”é€šå®˜æ–¹APP
- æŠ€æœ¯æ”¯æŒï¼šFlutterç¤¾åŒº

---

**æ³¨æ„**ï¼šè¿™æ˜¯ä»Fletæ¡†æ¶è½¬æ¢ä¸ºçº¯Flutterçš„ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å®Œç¾çš„æ²‰æµ¸å¼çŠ¶æ€æ æ•ˆæœï¼

